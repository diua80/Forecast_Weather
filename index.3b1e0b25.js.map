{"mappings":"YAAA,IAAMA,EAAO,CACTC,WAAYC,SAASC,eAAe,cACpCC,KAAMF,SAASC,eAAe,SAElCH,EAAKC,WAAWI,iBAAiB,UAEjC,SAAuBC,GACnBA,EAAGC,iBACH,IAAuBC,EAAAR,EAAKC,WAAWQ,SAA/BC,EAAeF,EAAfE,KAAMC,EAASH,EAATG,MAWlB,SAAwBD,EAAMC,GAE9B,IACUC,EAAe,8CACfC,EAAS,IAAIC,gBAAgB,CAC/BC,IAHQ,kCAIRC,EAAGN,EACHC,OACAM,KAAM,OAEV,OAAOC,MAAM,GAAmBC,OAAhBP,EAAa,KAAUO,OAAPN,IAAUO,MAAK,SAAAC,GAC3C,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAMF,EAAIG,YAExB,OAAOH,EAAII,M,KAvBfC,CAAehB,EAAKiB,MAAOhB,EAAKgB,OACuBP,MAA7C,SAACQ,GAEe5B,EAAbI,KAAKyB,UAAyBD,EAAKE,SAASC,YAwB9CC,KACT,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EAAEG,IAAMC,EAASF,EAATE,UAASC,EAAAH,EAAEI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MACtC,8CACoBtB,OAAdsB,EAAK,WACEtB,OADOqB,EAAK,oDAEJrB,OADRe,EAAK,0CAEEf,OADCqB,EAAK,yCACIrB,OAAVkB,EAAU,oB,IAEpCK,KAAK,G,IA9BaC,OAAT,SAACC,G,OAAQC,QAAQC,MAAMF,E","sources":["src/index.js"],"sourcesContent":["const refs = {\n    searchForm: document.getElementById(\"searchForm\"),\n    list: document.getElementById(\"list\"),\n}\nrefs.searchForm.addEventListener(\"submit\", searchWeather);\n\nfunction searchWeather(ev) {\n    ev.preventDefault();\n    const { city, days } = refs.searchForm.elements;\n\n    weatherService(city.value, days.value)// Повертає проміс, тому оброблювати результат треба методом then()\n        .then((data) => {\n            // вставимо до сторінки\n            refs.list.innerHTML = createMarkup(data.forecast.forecastday);\n        })\n        // обробимо помилку\n        .catch((err) => console.error(err));\n}\n\nfunction weatherService(city, days) {\n    \nconst API_KEY = \"8a54cd2d271744daaf9144117252203\";\n    const FORECAST_URL = \"https://api.weatherapi.com/v1/forecast.json\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: city,\n        days, // скорочений запис властивості\n        lang: \"uk\",\n    });\n    return fetch(`${FORECAST_URL}?${params}`).then(res => {\n        if (!res.ok) {\n            throw new Error(res.statusText);\n        }\n        return res.json();\n    });\n}\nfunction createMarkup(arr) {\n    return arr.map(\n      ({\n        date, day: {avgtemp_c, condition: { text, icon }}\n      }) => `<li class=\"weather-card\">\n      <img src=\"${icon}\" alt=\"${text}\" class=\"weather-icon\">\n      <h2 class=\"date\">${date}</h2>\n      <h3 class=\"weather-text\">${text}</h3>\n      <h3 class=\"temperature\">${avgtemp_c} °C</h3>\n  </li>`\n    ).join(\"\");\n}\n"],"names":["$b8f9b7833fa37166$var$refs","searchForm","document","getElementById","list","addEventListener","ev","preventDefault","_elements","elements","city","days","FORECAST_URL","params","URLSearchParams","key","q","lang","fetch","concat","then","res","ok","Error","statusText","json","$b8f9b7833fa37166$var$weatherService","value","data","innerHTML","forecast","forecastday","map","param","date","_day","day","avgtemp_c","_condition","condition","text","icon","join","catch","err","console","error"],"version":3,"file":"index.3b1e0b25.js.map"}
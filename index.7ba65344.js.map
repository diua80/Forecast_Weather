{"mappings":"AAAA,MAAMA,EAAO,CACTC,WAAYC,SAASC,eAAe,cACpCC,KAAMF,SAASC,eAAe,SAElCH,EAAKC,WAAWI,iBAAiB,UAEjC,SAAuBC,GACnBA,EAAGC,iBACH,MAAMC,KAAEA,EAAIC,KAAEA,GAAST,EAAKC,WAAWS,UAW3C,SAAwBF,EAAMC,GAE9B,MACUE,EAAe,8CACfC,EAAS,IAAIC,gBAAgB,CAC/BC,IAHQ,kCAIRC,EAAGP,E,KACHC,EACAO,KAAM,OAEV,OAAOC,MAAM,GAAGN,KAAgBC,KAAUM,MAAKC,IAC3C,IAAKA,EAAIC,GACL,MAAM,IAAIC,MAAMF,EAAIG,YAExB,OAAOH,EAAII,MAAM,G,EAvBrBC,CAAehB,EAAKiB,MAAOhB,EAAKgB,OACuBP,MAA5CQ,IAEe1B,EAAbI,KAAKuB,UAAyBD,EAAKE,SAASC,YAwB9CC,KACT,EAACC,KACCA,EAAMC,KAAKC,UAACA,EAAWC,WAAWC,KAAEA,EAAIC,KAAEA,OACtC,8CACMA,WAAcD,oDACPJ,0CACQI,yCACDF,uBAE1BI,KAAK,GAjC8D,IAGjDC,OAARC,GAAQC,QAAQC,MAAMF,I","sources":["src/index.js"],"sourcesContent":["const refs = {\n    searchForm: document.getElementById(\"searchForm\"),\n    list: document.getElementById(\"list\"),\n}\nrefs.searchForm.addEventListener(\"submit\", searchWeather);\n\nfunction searchWeather(ev) {\n    ev.preventDefault();\n    const { city, days } = refs.searchForm.elements;\n\n    weatherService(city.value, days.value)// Повертає проміс, тому оброблювати результат треба методом then()\n        .then((data) => {\n            // вставимо до сторінки\n            refs.list.innerHTML = createMarkup(data.forecast.forecastday);\n        })\n        // обробимо помилку\n        .catch((err) => console.error(err));\n}\n\nfunction weatherService(city, days) {\n    \nconst API_KEY = \"8a54cd2d271744daaf9144117252203\";\n    const FORECAST_URL = \"https://api.weatherapi.com/v1/forecast.json\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: city,\n        days, // скорочений запис властивості\n        lang: \"uk\",\n    });\n    return fetch(`${FORECAST_URL}?${params}`).then(res => {\n        if (!res.ok) {\n            throw new Error(res.statusText);\n        }\n        return res.json();\n    });\n}\nfunction createMarkup(arr) {\n    return arr.map(\n      ({\n        date, day: {avgtemp_c, condition: { text, icon }}\n      }) => `<li class=\"weather-card\">\n      <img src=\"${icon}\" alt=\"${text}\" class=\"weather-icon\">\n      <h2 class=\"date\">${date}</h2>\n      <h3 class=\"weather-text\">${text}</h3>\n      <h3 class=\"temperature\">${avgtemp_c} °C</h3>\n  </li>`\n    ).join(\"\");\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","getElementById","list","addEventListener","ev","preventDefault","city","days","elements","FORECAST_URL","params","URLSearchParams","key","q","lang","fetch","then","res","ok","Error","statusText","json","$1f0dc3b9307be026$var$weatherService","value","data","innerHTML","forecast","forecastday","map","date","day","avgtemp_c","condition","text","icon","join","catch","err","console","error"],"version":3,"file":"index.7ba65344.js.map"}